using FluentValidation;
using Helpio.Ir.Application.DTOs.Ticketing;

namespace Helpio.Ir.Application.Validators.Ticketing
{
    public class CreateAttachmentDtoValidator : AbstractValidator<CreateAttachmentDto>
    {
        public CreateAttachmentDtoValidator()
        {
            RuleFor(x => x.Name)
                .NotEmpty().WithMessage("??? ???? ?????? ???")
                .Length(1, 255).WithMessage("??? ???? ???? ??? 1 ?? 255 ??????? ????");

            RuleFor(x => x.Url)
                .NotEmpty().WithMessage("???? ???? ?????? ???")
                .MaximumLength(500).WithMessage("???? ???? ?????? 500 ??????? ????");

            RuleFor(x => x.Type)
                .NotEmpty().WithMessage("??? ???? ?????? ???")
                .MaximumLength(50).WithMessage("??? ???? ?????? 50 ??????? ????");

            RuleFor(x => x.Size)
                .GreaterThan(0).WithMessage("?????? ???? ???? ????? ?? ??? ????")
                .LessThan(104857600).WithMessage("?????? ???? ?????? 100 ??????? ????"); // 100MB

            RuleFor(x => x.Description)
                .MaximumLength(500).WithMessage("??????? ?????? 500 ??????? ????")
                .When(x => !string.IsNullOrEmpty(x.Description));
        }
    }
}